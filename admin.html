<section class="container" style="max-width:500px; margin-top:50px;">
  <h2 style="text-align:center; margin-bottom:30px;">Add New Land</h2>

  <form id="adminForm" style="display:flex; flex-direction:column; gap:15px;">
    <input type="text" id="title" placeholder="Title" required>
    <input type="text" id="location" placeholder="Location" required>
    <input type="text" id="price" placeholder="Price" required>
    <input type="text" id="image" placeholder="Image URL" required>
    <button type="submit" class="btn btn-accent">Add Land</button>
  </form>
</section>

<script>
const adminForm = document.getElementById("adminForm");
adminForm.addEventListener("submit", async e => {
  e.preventDefault();

  const token = localStorage.getItem("token");
  if(!token){ alert("Login as admin!"); return; }

  const title = document.getElementById("title").value;
  const location = document.getElementById("location").value;
  const price = document.getElementById("price").value;
  const image = document.getElementById("image").value;

  try {
    const res = await fetch(`${API_URL}/properties`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": `Bearer ${token}`
      },
      body: JSON.stringify({ title, location, price, image })
    });
    const data = await res.json();
    alert(data.message);
    if(res.ok) adminForm.reset();
  } catch(err){ alert("Server error"); }
});
</script>
